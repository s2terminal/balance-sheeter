(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{347:function(e,t,n){e.exports=n(667)},352:function(e,t,n){},667:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),i=n(22),s=n.n(i),l=(n(352),n(246)),c=n(233),o=n(247),u=n(137),m=n(138),h=n(21),d=[{name:"cash",label:"\u73fe\u9810\u91d1"},{name:"currentAssets",label:"\u6d41\u52d5\u8cc7\u7523"},{name:"nonCurrentAssets",label:"\u56fa\u5b9a\u8cc7\u7523"}],b=[{name:"currentLiabilities",label:"\u6d41\u52d5\u8ca0\u50b5"},{name:"nonCurrentLiabilities",label:"\u56fa\u5b9a\u8ca0\u50b5"},{name:"equity",label:"\u7d14\u8cc7\u7523"}],y={data:"\u30c7\u30fc\u30bf",add:"\u3075\u3084\u3059",remove:"\u6d88\u3059",asset:"\u8cc7\u7523",liability:"\u8ca0\u50b5",fy:"\u4f1a\u8a08\u5e74\u5ea6",car:"\u81ea\u5df1\u8cc7\u672c\u6bd4\u7387",excessDebtError:"\u50b5\u52d9\u8d85\u904e\u306e\u30b0\u30e9\u30d5\u306f\u6b63\u5e38\u306b\u8868\u793a\u3055\u308c\u307e\u305b\u3093"},f=n(25),v=n(142),g=n.n(v),p=function(e){return e>1e9?(e/1e9).toString()+"B":e>1e6?(e/1e6).toString()+"M":e>1e3?(e/1e3).toString()+"K":e.toString()},E=function(e,t,n){return r.a.createElement(f.a,{stackId:n,key:t.name,dataKey:t.name,name:t.label,fill:e.string(),stroke:"#333"},r.a.createElement(f.d,{dataKey:t.name,formatter:function(e){return"".concat(t.label," ").concat(e)}}))},w=function(e){var t=d.map(function(e,t){var n=g.a.rgb(255,64,0).lighten(.1+.25*t);return E(n,e,"a")}).reverse(),n=b.map(function(e,t){var n=g.a.rgb(0,164,255).lighten(.1+.25*t);return E(n,e,"b")}).reverse(),a=e.data.bs.map(function(e,t){return{name:e.date,cash:e.cash,currentAssets:e.currentAssets,nonCurrentAssets:e.nonCurrentAssets,currentLiabilities:e.currentLiabilities,nonCurrentLiabilities:e.nonCurrentLiabilities,equity:e.equity}});return r.a.createElement(f.f,{height:320},r.a.createElement(f.b,{data:a},r.a.createElement(f.c,{strokeDasharray:"3 3"}),r.a.createElement(f.h,{dataKey:"name"}),r.a.createElement(f.i,{tickFormatter:p}),r.a.createElement(f.g,null),r.a.createElement(f.e,null),t,n))},C=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";Object(u.a)(this,e),this.date=t,this.cash=void 0,this.currentAssets=void 0,this.nonCurrentAssets=void 0,this.currentLiabilities=void 0,this.nonCurrentLiabilities=void 0,this.equity=void 0}return Object(m.a)(e,[{key:"totalAssets",value:function(){return Number(this.cash+this.currentAssets+this.nonCurrentAssets)}},{key:"totalDebt",value:function(){return Number(this.currentLiabilities+this.nonCurrentLiabilities)}},{key:"car",value:function(){return Number((this.totalAssets()-this.totalDebt())/this.totalAssets())}}],[{key:"generateByIBSData",value:function(t){var n=new e;return n.cash=t.cash,n.currentAssets=t.currentAssets,n.nonCurrentAssets=t.nonCurrentAssets,n.currentLiabilities=t.currentLiabilities,n.nonCurrentLiabilities=t.nonCurrentLiabilities,n.equity=t.equity,n}},{key:"forceCastProperties",value:function(t){return t.cash=e.anywayParseInt(t.cash),t.currentAssets=e.anywayParseInt(t.currentAssets),t.nonCurrentAssets=e.anywayParseInt(t.nonCurrentAssets),t.currentLiabilities=e.anywayParseInt(t.currentLiabilities),t.nonCurrentLiabilities=e.anywayParseInt(t.nonCurrentLiabilities),t.equity=e.anywayParseInt(t.equity),t}},{key:"anywayParseInt",value:function(e){switch(typeof e){case"number":return e;default:return parseInt(e)}}}]),e}(),k="bs",A=function(e){function t(e){var n;Object(u.a)(this,t),(n=Object(l.a)(this,Object(c.a)(t).call(this,e))).handleChangeBS=function(e,t){return function(a){var r=a.target.value;n.setState(function(n){return n.bs[e][t]=r,n})}},n.handleBlur=function(){n.saveQueryString(n.state)},n.handleClickAdd=function(){var e=n.state.bs;e.push(new C),n.setState({bs:e})},n.saveQueryString=function(e){var t=new URL(window.location.href);t.searchParams.set(k,JSON.stringify(e)),window.history.pushState(null,null,t.toString())},n.generateTextField=function(e){var t=n.state.bs[e.dateIndex][e.name]?n.state.bs[e.dateIndex][e.name]:0;return r.a.createElement("div",{key:"bs-".concat(e.dateIndex,"-").concat(e.name)},r.a.createElement(h.f,{id:"bs-".concat(e.dateIndex,"-").concat(e.name),label:"".concat(e.label),value:t,onChange:n.handleChangeBS(e.dateIndex,e.name),onBlur:n.handleBlur,error:t<0,helperText:t<0&&y.excessDebtError}))};var a=n.loadQueryString();return a?n.state=a:(n.state={title:"",bs:[]},n.state.bs.push(new C("FY2018")),n.state.bs.push(new C("FY2019"))),n}return Object(o.a)(t,e),Object(m.a)(t,[{key:"handleClickRemove",value:function(e){var t=this.state.bs.filter(function(t,n){return n!=e});this.setState({bs:t})}},{key:"loadQueryString",value:function(){try{var e=new URL(window.location.href),t=JSON.parse(e.searchParams.get(k));return t.bs=t.bs.map(function(e){return C.forceCastProperties(e)}),t}catch(n){return null}}},{key:"render",value:function(){var e=this,t=this.state.bs.map(function(t,n){var a,i=C.generateByIBSData(t);return r.a.createElement(h.c,{key:"input-form-".concat(n),style:{margin:"1rem",padding:"0 1rem 1rem"}},r.a.createElement("h3",null,e.generateTextField({name:"date",label:y.fy,dateIndex:n})),r.a.createElement(h.d,{container:!0,spacing:8},r.a.createElement(h.d,{item:!0,xs:4},r.a.createElement("h4",null,y.asset),d.map(function(e){return this.generateTextField({name:e.name,label:e.label,dateIndex:n})},e)),r.a.createElement(h.d,{item:!0,xs:4},r.a.createElement("h4",null,y.liability),b.map(function(e){return this.generateTextField({name:e.name,label:e.label,dateIndex:n})},e))),y.car,": ",(a=i.car(),"".concat(Math.round(100*a),"%")),r.a.createElement(h.b,{variant:"contained",color:"secondary",onClick:function(){return e.handleClickRemove(n)},style:{float:"right"}},y.remove))},this);return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{position:"static",color:"secondary"},r.a.createElement(h.g,null,r.a.createElement(h.f,{placeholder:"title",value:this.state.title,onChange:function(t){e.setState({title:t.target.value})},onBlur:this.handleBlur,fullWidth:!0}))),r.a.createElement("div",{style:{margin:"1rem"}},r.a.createElement(w,{data:this.state})),r.a.createElement("form",{style:{margin:"1rem"}},r.a.createElement(h.h,{variant:"h5",component:"h2"},y.data),t,r.a.createElement(h.c,{style:{margin:"1rem",padding:"1rem"}},r.a.createElement(h.b,{variant:"contained",color:"primary",onClick:this.handleClickAdd,style:{float:"right"}},y.add))),r.a.createElement(h.a,{position:"static",color:"primary",style:{padding:"1rem"}},r.a.createElement("p",null,"Balance Sheeter / \u8cb8\u501f\u5bfe\u7167\u8868\u3092\u7bb1\u578b\u30b0\u30e9\u30d5\u306b\u3059\u308b\u3084\u3064"),r.a.createElement("p",null,r.a.createElement(h.e,{href:"https://github.com/s2terminal/balance-sheeter",target:"blank",color:"inherit"},"Source Code")," by ",r.a.createElement(h.e,{href:"https://s2terminal.com",target:"blank",color:"inherit"},"@s2terminal"))))}}]),t}(r.a.Component),S=n(23),I=n(79),L=Object(S.createMuiTheme)({palette:{primary:I.red,secondary:{main:"rgb(255, 179, 153)"}}}),x=function(){return r.a.createElement(S.MuiThemeProvider,{theme:L},r.a.createElement(A,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[347,1,2]]]);
//# sourceMappingURL=main.14b82727.chunk.js.map